<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Beyonic API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-11086135-5', 'auto');
      ga('send', 'pageview');

      //This does hash-click tracking (inspired by http://stackoverflow.com/a/4813223)
    $(document).ready(function() {
      $('.tocify-item a').on('click', function(){
        ga('send', 'pageview', {'page': location.pathname + location.search  + location.hash});
      });
    });
  </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;php&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">CURL</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="ruby">RUBY</a>
              <a href="#" data-language-name="python">PYTHON</a>
              <a href="#" data-language-name="java">JAVA</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://support.beyonic.com'>Beyonic Support & User Guides</a></li>
            <li><a href='http://beyonic.com'>Beyonic.com</a></li>
            <li><a href='mailto:support@beyonic.com?subject="Error in your docs!"'>Found an error?</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<blockquote>
<p>Scroll down for examples.</p>
</blockquote>

<p>Welcome to Beyonic&rsquo;s API documentation.</p>

<p>The Beyonic API is <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> based. We provide libraries for several languages, including PHP, Java, Ruby and Python. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>All responses shall be returned using <a href="http://www.json.org/">JSON</a>, however, if you are using the language libraries, the JSON responses will be converted into native, language specific objects.</p>

<h1 id="quick-start">Quick Start</h1>

<p>Can&rsquo;t wait to dive in? Follow the 6 steps below to get started.</p>

<ol>
<li><a href="https://app.beyonic.com/signup/">Sign Up</a> for a Beyonic account.</li>
<li><a href="https://app.beyonic.com/">Login</a> and get your API Token by clicking the user icon on the top left corner, and selecting &lsquo;Profile&rsquo; from the dropdown menu. The API Token is shown at the bottom of the page.</li>
<li>Download the appropriate client library from links in the &ldquo;Libraries&rdquo; section of this reference.</li>
<li>Using your API token and the library, connect to the API endpoint: https://app.beyonic.com/api</li>
<li>Identify the methods you need to use. See the &ldquo;Methods&rdquo; section of this reference.</li>
<li>Profit!</li>
</ol>

          <h1 id="libraries">Libraries</h1>

<p>Here are links to the various client libraries &amp; specific installation instructions:</p>

<ul>
<li>PHP - <a href="https://github.com/beyonic/beyonic-php">https://github.com/beyonic/beyonic-php</a></li>
<li>Ruby - <a href="https://github.com/beyonic/beyonic-ruby">https://github.com/beyonic/beyonic-ruby</a></li>
<li>Python - <a href="https://github.com/beyonic/beyonic-python">https://github.com/beyonic/beyonic-python</a></li>
<li>Zapier - Beyonic provides zapier triggers and actions in &ldquo;Invite Only&rdquo; mode. Please contact us if you would like to use Zapier with Beyonic&rsquo;s API.</li>
<li>Java - We don&rsquo;t currently offer an official Java client. However, we have provided Java code examples on the &lsquo;Java&rsquo; tab to get you started.</li>
</ul>

          <h1 id="api-endpoint">API Endpoint</h1>

<p>You access Beyonic’s API at the following endpoint:
    <aside class="notice">https://app.beyonic.com/api</aside></p>

<p>This endpoint uses your saved API version (see below). If you’d like to make sure that your application always accesses the same version, you can specify a specific version as shown in the versioning section.</p>

<h1 id="versioning">Versioning</h1>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Beyonic-Version: v1"</span> https://app.beyonic.com/api
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_version</span> <span class="o">=</span> <span class="s1">'v1'</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiVersion</span><span class="p">(</span><span class="s2">"v1"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_version</span> <span class="o">=</span> <span class="s">'v1'</span>
</code></pre>
<p>New API versions are released only when we make backward incompatible changes to the API. We define these as changes that will prevent our official clients from working on old versions. Some changes DO NOT result in a new version, including: Adding new API methods, adding optional parameters to existing API methods or adding new fields to responses.</p>

<p>You don&rsquo;t need to specify a version in your request. The first time an API request is made for your organization, the version is saved, and will be used on subsequent API requests unless it is changed in the organization settings, or overridden as below. This allows your client applications to continue working even if newer API versions are released.</p>

<p>You can temporarily override the API version for a specific request in 2 ways:</p>

<ul>
<li>Use version specific URLS like: https://app.beyonic.com/api/v1</li>
<li>Include the Beyonic-Version header in your request as shown in the examples to the right.</li>
</ul>

<p>The various API libraries provide methods for changing the version, as shown in the examples to the right.</p>

<p>Note that this doesn&rsquo;t change your organization&rsquo;s default API version, which was saved in your organizations settings the first time you interacted with the Beyonic API. To change your default API version, log into the web portal and go to &ldquo;Company Settings&rdquo; &gt; Settings (Cogwheel) &gt; Manage General Settings.</p>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>
</code></pre>
<p>All requests must use <a href="http://en.wikipedia.org/wiki/HTTP_Secure">https</a>.</p>

<p>The Beyonic API uses Token Based Authentication, and requires an API key for authentication. You can generate or change your API key by logging into your account. Keep your API key secret to maintain the integrity of your account.</p>

<p>You must supply your API key with all API requests using the “Authorization” header as shown in the examples. You should inculde your API key with all requests.</p>

<p>The API key in all the examples is a valid test key, so you can test the examples immediately.</p>

          <h1 id="errors">Errors</h1>

<p>Beyonic uses HTTP response status codes to indicate success or failure. When a request to our API is successful, Beyonic returns an HTTP response code in the 2XX range.
And when a request fails, Beyonic returns an HTTP response code in the <em>4XX</em> or <em>5XX</em> range.</p>

<p>In summary:</p>

<ul>
<li>Codes in the <em>2XX</em> range mean that the request was processed successfully</li>
<li>Codes in the <em>4XX</em> range mean that something was wrong with the data that you sent. For example, you might have missed some required parameters, or you might be using a wrong API token.</li>
<li>Codes in the <em>5XX</em> range mean that something went wrong within Beyonic&rsquo;s servers.</li>
</ul>

<p>In all cases, the response will include an appropriate status code and content-type. The body of the response will include any additional details regarding the nature of the error.</p>

<p>Most error responses will include a &ldquo;detail&rdquo; key in the body of the response, but some may include additional information, for example, they may include information about missing fields.</p>

<p>The examples to the right show some of the errors that might occur, including the status code and content-type in the response header, and the json-formatted details in the response body.</p>

<blockquote>
<p>401 Unauthorized error response due to using a wrong token.</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.1 401 Unauthorized
Content-Type: application/json
Content-Length: 27

{"detail":"Invalid token."}
</code></pre>
<blockquote>
<p>400 Bad Request error response due to missing parameters in the request. Note that the fields are included as keys, and the error messages for each field are included as a list after each key.</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.1 400 Bad Request
Content-Type: application/json
Content-Length: 94

{"amount": ["A valid integer is required."], "description": ["This field may not be blank."]}
</code></pre>
<h2 id="common-error-codes">Common Error Codes</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is malformed or is missing some required parameters.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; You are using an invalid API token.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You are attempting to access a resource that doesn&rsquo;t belong to you. Check that you are using the correct API token for the user who owns the resource.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; You are attempting to access a resource that doesn&rsquo;t exit. Check the url for your request.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You are attempting to use an invalid method. For example, you might be trying to POST to a readonly endpoint.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t supported. Check the &ldquo;Accept&rdquo; header of your request, and try to ensure that you are using json format for your requests.</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type &ndash; Check the content-type of the data you are sending.</td>
</tr>
<tr>
<td>429</td>
<td>Throttled &ndash; You are sending too many requests in a short period of time. Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

<p><em>Note</em>: always check the response body for details about the error.</p>

<h2 id="handling-errors">Handling errors</h2>

<p>Your code should handle errors gracefully.</p>

<p>Beyonic&rsquo;s API libraries will raise an exception when an error occurs. So you should add exception handling to your requests as shown in the examples to the right.</p>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6901"</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$collection_requests</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Beyonic_Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
  <span class="k">echo</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">responseBody</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">detail</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6901'</span>

<span class="k">try</span><span class="p">:</span>
  <span class="n">collection_request</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
<span class="k">except</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">ResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
  <span class="k">print</span> <span class="n">e</span>
<span class="k">else</span><span class="p">:</span>
  <span class="c"># No error, proceed with processing</span>
  <span class="k">pass</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6901'</span>

<span class="k">begin</span>
  <span class="n">collection_request</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
<span class="k">rescue</span> <span class="no">RestClient</span><span class="o">::</span><span class="no">ExceptionWithResponse</span> <span class="o">=&gt;</span> <span class="n">e</span>   <span class="c1"># You probably want to use more specific RestClient codes like RestClient::Unauthorized, RestClient::ResourceNotFound, etc</span>
  <span class="nb">p</span> <span class="n">e</span>  <span class="c1"># Print out the error</span>
<span class="k">end</span>
</code></pre>
          <h1 id="pagination">Pagination</h1>

<blockquote>
<p>Pagination Example Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/v2/contacts?limit<span class="o">=</span>10&amp;offset<span class="o">=</span>5 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_vesion</span> <span class="o">=</span> <span class="s1">'v2'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">limit: </span><span class="mi">10</span><span class="p">,</span>
  <span class="ss">offset: </span><span class="mi">5</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiVersion</span><span class="p">(</span><span class="s2">"v2"</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"limit"</span> <span class="o">=&gt;</span> <span class="s2">"10"</span><span class="p">,</span>
  <span class="s2">"offset"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_version</span> <span class="o">=</span> <span class="s">'v2'</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="s">'10'</span><span class="p">,</span>
                                  <span class="n">offset</span><span class="o">=</span><span class="s">'5'</span><span class="p">)</span>


</code></pre>
<p>Most Beyonic API methods support a way to retrieve a list of records. For example, you can retrieve a list of contacts.</p>

<p>When retrieving a list, you can control the number of records returned by adding two parameters to your request:</p>

<ul>
<li><strong><em>limit</em></strong>: This limits the number of records returned per page. If omitted, only 10 records are returned per page</li>
<li><strong><em>offset</em></strong>: This tells the Beyonic API where to start getting </li>
</ul>

<p>The API response body shall include the following parameters:</p>

<ul>
<li><strong><em>count</em></strong>: The total number of records available (not just on the returned page)</li>
<li><strong><em>next</em></strong>: A link to the next page of records. If there is no next page, this shall be equal to <em>null</em></li>
<li><strong><em>previous</em></strong>: A link to the previous page of records. If there is no previous page, this shall be equal to <em>null</em></li>
<li><strong><em>results</em></strong>: This will contain the list of records for the current page</li>
</ul>

          <h1 id="ordering-results">Ordering Results</h1>

<blockquote>
<p>Ordering Example:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts?ordering<span class="o">=</span>-created -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">ordering: </span><span class="s1">'-created'</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"ordering"</span> <span class="o">=&gt;</span> <span class="s2">"-created"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">ordering</span><span class="o">=</span><span class="s">'-created'</span><span class="p">)</span>


</code></pre>
<p>Most Beyonic API methods support a way to retrieve a list of records. For example, you can retrieve a list of contacts.</p>

<p>When retrieving a list, you can control the order that records are returned in by adding one parameters to your request:</p>

<ul>
<li><strong><em>ordering</em></strong>: This orders the records by one of the visible fields on the object</li>
</ul>

<p>Ascending or Descending order:</p>

<ul>
<li>To use ascending order, just use the field name E.g. ordering=created</li>
<li>To use descending order, add a &ldquo;-&rdquo; to the field name E.g. ordering=-created</li>
</ul>

          <h1 id="filtering-results">Filtering Results</h1>

<blockquote>
<p>Filtering Example:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts?first_name<span class="o">=</span>tom -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">first_name: </span><span class="s1">'tom'</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"tom"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">first_name</span><span class="o">=</span><span class="s">'tom'</span><span class="p">)</span>


</code></pre>
<p>Most Beyonic API methods support a way to retrieve a list of records or a single record. For example, you can retrieve a list of contacts or a single contact.</p>

<p>When retrieving a list or a single record, you can limit the results to records where a given field matches specific search criteria. To do this, add the  keyword to your request as shown in the examples.</p>

<p>Not all fields are filterable. See the documentation for each method below to see which fields are filterable within that method.</p>

          <h1 id="metadata">Metadata</h1>

<blockquote>
<p>Example showing how to create a new payment with Metadata:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+256778122118 <span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>UGX <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>30 <span class="se">\</span>
-d <span class="nv">description</span><span class="o">=</span><span class="s2">"Per diem payment"</span> <span class="se">\</span>
-d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://my.website/payments/callback"</span> <span class="se">\</span>
-d metadata.id<span class="o">=</span>1234 <span class="se">\</span>
-d metadata.name<span class="o">=</span>Lucy <span class="se">\</span>
-d <span class="nv">payment_type</span><span class="o">=</span>money
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256778122118"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"UGX"</span><span class="p">,</span>
    <span class="ss">description: </span><span class="s2">"Per diem payment"</span><span class="p">,</span>
    <span class="ss">payment_type: </span><span class="s2">"money"</span><span class="p">,</span>
    <span class="ss">callback_url: </span><span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="p">{</span><span class="s2">"id"</span><span class="p">:</span> <span class="s2">"1234"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Lucy"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256778122118"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"UGX"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Per diem payment"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span> <span class="o">=&gt;</span> <span class="s2">"money"</span><span class="p">,</span>
  <span class="s2">"callback_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"id"</span><span class="o">=&gt;</span><span class="s2">"1234"</span><span class="p">,</span> <span class="s2">"name"</span><span class="o">=&gt;</span><span class="s2">"Lucy"</span><span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256778122118'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span>
                       <span class="n">currency</span><span class="o">=</span><span class="s">'UGX'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s">'id'</span><span class="p">:</span> <span class="s">'1234'</span><span class="p">,</span> <span class="s">'name'</span><span class="p">:</span> <span class="s">'Lucy'</span><span class="p">}</span>
                       <span class="p">)</span>
</code></pre>
<p>Beyonic supports Metadata, which allows you to add custom key-value attributes when creating objects. For example, you can include a unique ID to identify a payment, or add more information about a Contact. This data will be returned when you retrieve the record later, and can be used to identify the record.</p>

<p>Metadata has the following constraints:</p>

<ul>
<li>Metadata attributes must be key-value pairs.</li>
<li>Both the keys and values must be strings.</li>
<li>For each record, you can have up to 10 custom attributes.</li>
</ul>

<p>Metadata is added to the object a set of key-value pairs, where the key is in the format metadata.key_name, for example: metadata.id or metadata.name or metadata.date, and so on.</p>

<p>See the examples for more information.</p>

<h2 id="custom-fields">Custom Fields</h2>

<p>Custom Fields are similar to Metadata - they allow you to add custom data to some objects. There are a couple of differences between custom fields and other metadata:</p>

<ol>
<li>Custom fields are available through the web interface as well, while metadata fields are only available through the API</li>
<li>Metadata keys and values can be created and edited through the API, while custom fields can only be created through the web interface (currently, you need to request addition of a custom field by <a href="http://beyonic.com/contact">contacting us</a>). However, once custom fields have been created through the web interface, they can be updated or edited through the API as well.</li>
<li>Metadata consists of string-based keys and string-based values. Custom field keys are strings (starting with &ldquo;s_&rdquo;), but the values may be of different types, including strings, numbers, boolean values or enum values (restricted to a predefined set of values)</li>
</ol>

<h3 id="adding-or-updating-custom-field-data">Adding or updating custom field data</h3>

<p>All internal custom field labels or keys start with &ldquo;s_&rdquo;. To see the available custom fields, and their actual key names, you can read or list the related object records, as detailed in the respective APIs.</p>

<p>For example, to see custom fields that have been added to your payment object, list your payments. You can identify the custom fields by their keys, which all start with &ldquo;s_&rdquo;.</p>

<p>Once you know the custom field key, you can update it&rsquo;s value just like any other metadata value.</p>

<h3 id="api-methods-that-support-custom-fields">API methods that support custom fields.</h3>

<p>Not all API methods support custom fields. Currently, the following API methods and their corresponding objects support custom fields.</p>

<ol>
<li>The payment API</li>
<li>The contacts API</li>
</ol>

          <h1 id="testing">Testing</h1>

<p>Beyonic provides a few features to ease API testing. These features are described below.</p>

<h2 id="test-api-token">Test API token</h2>

<p>All the examples include a test API token that actually works. They can be run directly, so feel free to try them out as you read the documentation.</p>

<h2 id="test-currency">Test Currency</h2>

<p>Beyonic provides a test currency, with the following parameters:</p>

<ul>
<li><strong>Phone Format</strong>: +800XXXXXXXX</li>
<li><strong>Currency Code</strong>: BXC</li>
</ul>

<p>The BXC currency is used throughout the examples and you can also use it in your own testing. Payments made in the BXC currency will not affect your live currency accounts. Additionally, depending on the number you are paying, you can test various success and failure scenarios. See &ldquo;Test Numbers&rdquo; below</p>

<p><strong>Note</strong>: Currently, this test currency works only for outgoing payments.</p>

<p><strong>Enabling or disabling the test currency</strong></p>

<p>To enable or disable the test currency, once you&rsquo;re logged into Beyonic, go to this URL:</p>

<aside class="notice">https://app.beyonic.com/testing/</aside>

<p>Or go to &ldquo;Home&rdquo; &gt; &ldquo;Company Settings&rdquo; &gt; (Cogwheel) &gt; Test Tools.</p>

<p>From that URL, you can enable the test currency, and also update the available test credit.</p>

<h2 id="test-numbers">Test Numbers</h2>

<p>Beyonic provides test numbers that should be used in conjunction with the test currency. The following numbers are treated in special ways when used with the BXC currency:</p>

<h3 id="sending-payments">Sending Payments</h3>

<ul>
<li><strong>+80000000001</strong> - When you add a contact with this number, the contact will always fail the mobile money registration checks, and therefore payments sent to this number will always fail.</li>
<li><strong>+800XXXXXXXX</strong> - All other numbers in the format +800XXXXXXXX will pass the name checks only if the contact name is &ldquo;John Doe&rdquo;. So, set the name to &ldquo;John Doe&rdquo; to test the effect of a successful name check, or set it to something else to test the effect of a failed name check.</li>
<li>Subsequently, all BXC payments to numbers with format +800XXXXXXXX and name &ldquo;John Doe&rdquo;, (except +80000000000) will succeed, if the amount is greater than or equal to 10 and less than or equal to 5,000,000 BXC.</li>
</ul>

<p><strong>Note</strong>: Make sure you have enough BXC credit on your account. Use <a href="https://app.beyonic.com/testing/">https://app.beyonic.com/testing/</a> to update your BXC credit.</p>

<h3 id="receiving-payments">Receiving Payments</h3>

<ul>
<li><strong>+80000000001</strong> - If you request a payment from this number, it will always fail with the &ldquo;Cancelled By User&rdquo; error. Use this to simulate a user cancelling or rejecting your payment request.</li>
<li><strong>+80000000009</strong> - If you request a payment from this number, it will always expire. Use this to simulate a user ignoring your payment request by doing nothing and letting it expire.</li>
<li><strong>+800XXXXXXXX</strong> - All other numbers in this format will complete successfully. Use this to test successful payment request scenarios.</li>
</ul>

<p><strong>Note</strong>: Make sure you have enough BXC credit on your account. Use <a href="https://app.beyonic.com/testing/">https://app.beyonic.com/testing/</a> to update your BXC credit.</p>

<h2 id="testing-webhooks">Testing Webhooks</h2>

<p><strong>1. Triggering test events</strong></p>

<p>To trigger a test notification, simply perform the corresponding action in your account. You can do this via the API or the web portal.</p>

<p>For example, to trigger a &lsquo;contact.created&rsquo; event, simply create a contact. Or, to trigger a &#39;payment.status.changed&rsquo; event, use the Payments API to create a payment with the test currency and test numbers described above.</p>

<p><strong>2. Https with invalid certificates</strong></p>

<p>Beyonic only supports notification urls (also called webhooks or callback urls) that start with &ldquo;https://&rdquo;, even when testing. See the &ldquo;Webhooks&rdquo; section for more infromation. So, you should set up URL to a dedicated page on your server with a server-side https certificate.</p>

<p>Beyonic will usually validate the https certificate, and if validation fails, the notification will not be sent to your URL. To skip validation while testing, add ?skip-cert-verify to your URL, for example:
    <aside class="notice">https://my.callback.url.com?skip-cert-verify</aside></p>

<p>Note that skip-cert-verify only prevents certificate verification. It doesn&rsquo;t eliminate the &ldquo;https://&rdquo; requirement</p>

<p>While you can use skip-cert-verify on your production URLs, we advise you to use valid server side certificates to maximize security on your production systems.</p>

<p><strong>3. Setting up a temporary callback URL and verifying the format of the notifications</strong></p>

<p>If you are not able to set up a dedicated &ldquo;https://&rdquo; url while testing, we recommend using a service like <a href="https://requestb.in/">RequestBin</a>.</p>

<p>RequestBin gives you a URL that will collect requests made to it and let you inspect them in a human-friendly way. Use RequestBin to inspect and debug the webhook notifications.</p>

<p>Once you get a RequestBin URL, it uses http by default. Since Beyonic only supports https, remember to use &ldquo;https://&rdquo; and &ldquo;skip-cert-verify&rdquo;</p>

<p>For example, if your RequestBin URL is</p>

<p><aside class="notice">http://requestb.in/xzdqe313</aside></p>

<p>Then use this for your callback URLs:</p>

<p><aside class="notice">https://requestb.in/xzdqe313?skip-cert-verify</aside></p>

<p><strong>4. Viewing logged notification requests and responses</strong></p>

<p>Beyonic logs notificaiton requests and responses for at least 30 days. These can be viewed by logging into the web portal, and going to &ldquo;Home&rdquo; &gt; Company Settings&quot; &gt; &ldquo;Advanced Settings&rdquo; &gt; &ldquo;Notification Endpoints&rdquo;</p>

<p>By clicking on &ldquo;Recent Events&rdquo;, you will be able to see events and notification attempts, including the responses that Beyonic is getting from your notification server.</p>

          <h1 id="changelog">Changelog</h1>

<p>This section lists new versions and the changes made in those versions. Review these changes to decide whether you need to upgrade to the new version. Note that only backward incompatible changes are shown. See the <a href="#versioning">Versioning</a> section for more information on how to upgrade to a new version.</p>

<p>v3 - September 2016</p>

<ul>
<li><em>collection_request</em> field on Collection object now contains a JSON representation of the Collection Request, not the ID</li>
</ul>

<p>v2 - February 2016</p>

<ul>
<li><em>Accounts</em> API to get balances of organization&rsquo;s accounts.</li>
</ul>

<p>v2 - November 2015</p>

<ul>
<li>Versioning improvements to provide transparent backward compatibility by automatically saving users&rsquo; version. Versions can be upgraded manually via web interface</li>
<li><em>organization</em> field now contains the organization ID, not name, in the Payments, Contacts and Collection Requests methods</li>
<li><em>currency</em> field now contains the currency code, not the currency ID, in the Collections method</li>
</ul>

          <h1 id="receiving-money">Receiving Money</h1>

<h1 id="introduction">Introduction</h1>

<p>Beyonic uses the term &ldquo;Collection&rdquo; to refer to money that you receive (or collect) from a mobile subscriber. This differentiates money you receive (Collections) from money you send to mobile subscribers (Payments).</p>

<p>Beyonic provides to API methods to help you with receiving money from customers.</p>

<ol>
<li><p><strong>Requesting collections</strong>: You can request funds from a subscriber. You do this using the <a href="#collection-requests">Collection Requests</a> API. See the <a href="#collection-requests">Collection Requests</a> documentation for more information on how to initiate a collection request. It is as simple as creating a &ldquo;Collection Request&rdquo; object.</p></li>
<li><p><strong>Viewing received collections</strong>: Sometimes subscribers will send you money directly without first getting a collection request from you. The <a href="#collections">Collections</a> API lets you access all the collections you have received, whether they are in response to a Collection Request, or if the subscriber sent the funds directly.</p></li>
</ol>

<p>The difference is that collections that were received in response to a request from you will include a &ldquo;collection_requests&rdquo; parameter which will have a link to the collection request id.</p>

<p>See the <a href="#collections">Collections</a> documentation for more information on how to view, filter or search through collections you have received.</p>

<p><strong>Related Events</strong></p>

<p>The &ldquo;collection.received&rdquo; event is triggered whenever you receive funds from a user. You can configure a web link to receive notifications whenever this event occurs. This will allow you to respond automatically whenever you receive funds. See our <a href="#webhooks">Webhooks API</a> documentation for more information.</p>

          <h1 id="collection-requests">Collection Requests</h1>

<p>Collection Requests allow you to notify a customer to send funds to you. When you create a collection request, we send a notification to the customer, with insructions on how to fulfill the request. When they send the funds, a collection object shall be created, and matched with the collection request.</p>

<p>Creating a collection request prior to receiving an expected collection greatly improves the user experience for your subscribers by automatically matching transactions to your organization, even if the subscriber misses out some information or gets some of the information wrong, for example if they forget to include a reference code. Payments matching the amount, number and currency in the collection requests will be correctly assigned to you.</p>

<p>On some supported networks, collection requests actually &ldquo;pull&rdquo; the funds from the recipient&rsquo;s mobile money wallet, and all they have to do is enter their PIN code to approve the transaction. This greatly improves the customer experience.</p>

<p>The collection requests api endpoint is:
    <aside class="notice">https://app.beyonic.com/api/collectionrequests</aside></p>

<h2 id="the-collection-request-object">The Collection Request object</h2>

<blockquote>
<p>Sample Collection Request Object (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that owns this collection request (This is usually your organization ID)</td>
</tr>
<tr>
<td>amount</td>
<td>decimal</td>
<td>The collection request amount</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The 3 letter ISO currency code for the collection request. <strong>Note:</strong>: BXC is the Beyonic Test Currency code. See the &ldquo;Testing&rdquo; section for more information. Supported currency codes are BXC (Testing), UGX (Uganda), KES (Kenya)</td>
</tr>
<tr>
<td>phonenumber</td>
<td>string</td>
<td>The phone number that the collection request is intended for, in international format, starting with a +</td>
</tr>
<tr>
<td>reason</td>
<td>string or null</td>
<td>Internal description or reason for this collection request</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td>Any custom metadata that was added to the collection request when it was created</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the collection request was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the collection request</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the collection request was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the collection request</td>
</tr>
<tr>
<td>collection</td>
<td>long integer or null</td>
<td>The ID of the collection that fulfilled the collection request, if any</td>
</tr>
<tr>
<td>success_message</td>
<td>string or null</td>
<td>The confirmation message delivered to the customer upon successful completion of this payment request</td>
</tr>
<tr>
<td>instructions</td>
<td>string or null</td>
<td>Any custom instructions that were delivered to the customer</td>
</tr>
<tr>
<td>send_instructions</td>
<td>boolean</td>
<td>Whether or not Beyonic will attempt to send instructions to the user</td>
</tr>
</tbody></table>

<h2 id="creating-a-new-collection-request">Creating a new Collection Request</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+80000000001 <span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>BXC <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>3000 <span class="se">\</span>
-d metadata.my_id<span class="o">=</span><span class="s1">'123ASDAsd123'</span>
-d <span class="nv">send_instructions</span><span class="o">=</span>True
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection_request</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+80000000001"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"BXC"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="p">{</span><span class="s2">"my_id"</span><span class="p">:</span> <span class="s2">"123ASDAsd123"</span><span class="p">},</span>
    <span class="ss">send_instructions: </span><span class="kp">true</span>
<span class="p">)</span>

<span class="nb">p</span> <span class="n">collection_request</span>  <span class="c1"># Examine the returned object</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection_request</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+80000000001"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"BXC"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"my_id"</span><span class="o">=&gt;</span><span class="s2">"123ASDAsd123"</span><span class="p">),</span>
  <span class="s2">"send_instructions"</span> <span class="o">=&gt;</span> <span class="nx">True</span>
<span class="p">));</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$collection_request</span><span class="p">);</span>  <span class="c1">// Examine the returned object
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>


<span class="n">collection_request</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+80000000001'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span>
                       <span class="n">currency</span><span class="o">=</span><span class="s">'BXC'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s">'my_id'</span><span class="p">:</span> <span class="s">'123ASDAsd123'</span><span class="p">},</span>
                       <span class="n">send_instructions</span> <span class="o">=</span> <span class="bp">True</span>
                       <span class="p">)</span>

<span class="k">print</span> <span class="n">collection_request</span>  <span class="c"># Examine the returned object</span>
</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateCollectionRequestExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collectionrequests"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PHONE_NUMBER</span> <span class="o">=</span> <span class="s">"+80000000001"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CURRENCY</span> <span class="o">=</span> <span class="s">"BXC"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DESCRIPTION</span> <span class="o">=</span> <span class="s">"Per Diem"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">AMOUNT</span> <span class="o">=</span> <span class="s">"1200"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CALLBACK_URL</span> <span class="o">=</span> <span class="s">"https://my.website/payments/callback"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">SEND_INSTRUCTIONS</span> <span class="o">=</span> <span class="s">"True"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">collectionRequestObject</span> <span class="o">=</span> <span class="n">createCollectionRequestObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">collectionRequestObject</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="kt">int</span> <span class="n">beyID</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="n">beyID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Collection Request: "</span> <span class="o">+</span> <span class="n">beyID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="nf">createCollectionRequestObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">collectionRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"phonenumber"</span><span class="o">,</span> <span class="n">PHONE_NUMBER</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"amount"</span><span class="o">,</span> <span class="n">AMOUNT</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"currency"</span><span class="o">,</span> <span class="n">CURRENCY</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="n">DESCRIPTION</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"callback_url"</span><span class="o">,</span> <span class="n">CALLBACK_URL</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"send_instructions"</span><span class="o">,</span> <span class="n">SEND_INSTRUCTIONS</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">collectionRequest</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"my_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123ASDAsd123"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To create a new collection request, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+80000000001</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>first_name</td>
<td>No</td>
<td>String</td>
<td>Luke</td>
<td>Optional subscriber first name - if omitted, the first name will be set to &lsquo;Anonymous&rsquo;</td>
</tr>
<tr>
<td>last_name</td>
<td>No</td>
<td>String</td>
<td>Woods</td>
<td>Optional subscriber last name - if omitted, the last name will be set to &#39;Contact&rsquo;</td>
</tr>
<tr>
<td>amount</td>
<td>Yes</td>
<td>String, Integer or Decimal</td>
<td>3000</td>
<td>Do not include thousands separators</td>
</tr>
<tr>
<td>currency</td>
<td>Yes</td>
<td>String</td>
<td>BXC</td>
<td>3 letter ISO currency code. No currency conversion is done, so the currency must be valid for the selected phonenumber. You must have funded Beyonic an account in this currency. If your account for this currency has zero balance, your payment will fail. <strong>Note:</strong>: BXC is the Beyonic Test Currency code. See the &ldquo;Testing&rdquo; section for more information. Supported currency codes are BXC (Testing), UGX (Uganda), KES (Kenya)</td>
</tr>
<tr>
<td>reason</td>
<td>No</td>
<td>String</td>
<td>Transaction Fees</td>
<td>Internal description or reason for this collection request</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON String</td>
<td>&ldquo;{&#39;my_id&rsquo;: &#39;123ASDAsd123&rsquo;}&rdquo;</td>
<td>Custom attributes to store with this object. See the Metadata section for more information.</td>
</tr>
<tr>
<td>success_message</td>
<td>No</td>
<td>String (Max 140 characters)</td>
<td>&ldquo;Thank you for your payment!&rdquo;</td>
<td><em>New in V2.</em> This message will be sent via SMS to the subscriber when they make a payment for this collection request. &rsquo;-Powered by Beyonic&rsquo; shall be appended to this message. If you leave this message out, a default message shall be sent by Beyonic. You can include {amount} and {customer} placeholders - these will be replaced with the amount and customer name or number details before the message is sent.</td>
</tr>
<tr>
<td>send_instructions</td>
<td>No</td>
<td>Boolean</td>
<td>False</td>
<td><em>New in V2.</em> Defaults to False. Indicates whether we should send payment instructions to the subscriber via SMS. Note that this field defaults to False, so if you want the collection request to actually be sent out, you must set this field to True. Omitting the field will prevent collection requests from being sent out.</td>
</tr>
<tr>
<td>instructions</td>
<td>No</td>
<td>String (Max 140 characters)</td>
<td>&ldquo;Use #1234 as the reference&rdquo;</td>
<td><em>New in V2.</em> Allows overriding of the default instructions sent to the subscriber. This value may be ignored on some networks that have alternative ways of notifying the subscriber of pending payment requests.</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-collection-request">Retrieving a single Collection Request</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests/230 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection_request</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

<span class="nb">p</span> <span class="n">collection_request</span>  <span class="c1"># Examine the returned object</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection_request</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$collection_request</span><span class="p">);</span>  <span class="c1">// Examine the returned object
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection_request</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

<span class="k">print</span> <span class="n">collection_request</span>  <span class="c"># Examine the returned object</span>
</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleCollectionRequestExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collectionrequests"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/1"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">230</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a single collection request, provide the collection request id and a collection request object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the collection you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-collection-requests">Listing all Collection Requests</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection_requests</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">list</span>

<span class="nb">p</span> <span class="n">collection_requests</span>  <span class="c1"># Examine the returned objects</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection_requests</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$collection_requests</span><span class="p">);</span>  <span class="c1">// Examine the returned objects
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection_requests</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

<span class="k">print</span> <span class="n">collection_requests</span>  <span class="c"># Examine the returned objects</span>
</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllCollectionRequestsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collectionrequests"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/api/collectionrequests?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a list of all collections, make a GET request to the collections endpoint. This will return a list of collection objects.</p>

<h2 id="filtering-collection-requests">Filtering Collection Requests</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests?remote_transaction_id<span class="o">=</span>12345&amp;amount<span class="o">=</span>500 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection_requests</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">remote_transaction_id: </span><span class="s1">'12345'</span><span class="p">,</span>
  <span class="ss">amount: </span><span class="mi">500</span>
<span class="p">)</span>

<span class="nb">p</span> <span class="n">collection_requests</span>  <span class="c1"># Examine the returned objects</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection_requests</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"12345"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">500</span>
<span class="p">));</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$collection_requests</span><span class="p">);</span>  <span class="c1">// Examine the returned objects
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection_requests</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'12345'</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="k">print</span> <span class="n">collection_requests</span>  <span class="c"># Examine the returned objects</span>
</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterCollectionRequestsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?remote_transaction_id=SS12312&amp;amount=500"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>You can search or filter collection requests on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only. (The phonenumber field is treated differently - see below).</p>

<ul>
<li>amount - the transaction amount</li>
<li>currency - the currency code</li>
<li>collection - the ID of the collection that fulfilled or matched this collection request</li>
<li>phonenumber - the phonenumber that the collection request was intended for. Note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request.</li>
<li>remote_transaction_id - the transaction id or transaction reference of the collection on the mobile network operator&rsquo;s side</li>
</ul>

          <h1 id="collections">Collections</h1>

<p>Beyonic uses the term &ldquo;Collections&rdquo; for payments you receive (or collect) from mobile subscribers. See <a href="http://support.beyonic.com/how-beyonic-makes-collections-easier/">how collections work</a> for more information.</p>

<p>When the user sends in a payment, it will create a collection object that you can access via the Collections API using the methods shown below.</p>

<p>The collections api endpoint is:
  <aside class="notice">https://app.beyonic.com/api/collections</aside></p>

<p><strong>NOTE: If you want to initiate new collections, use the <a href="#collection-requests-get-paid">Collection Requests API</a>. The collections api only allows you to view funds that have already been sent to you.</strong></p>

<h2 id="the-collection-object">The Collection object</h2>

<blockquote>
<p>Sample Collection Object (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">230</span><span class="p">,</span><span class="w">
    </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12132"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-12T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:49:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:55:38Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>remote_transaction_id</td>
<td>string</td>
<td>The unique transaction ID from the mobile network operator</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the collection was matched to</td>
</tr>
<tr>
<td>amount</td>
<td>decimal</td>
<td>The collection amount</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The 3 letter ISO currency code for the collection. <strong>Note:</strong>: BXC is the Beyonic Test Currency code. See the &ldquo;Testing&rdquo; section for more information. Supported currency codes are BXC (Testing), UGX (Uganda), KES (Kenya)</td>
</tr>
<tr>
<td>phonenumber</td>
<td>string</td>
<td>The phone number that the collection was initiated from, in international format, starting with a +</td>
</tr>
<tr>
<td>payment_date</td>
<td>string</td>
<td>The date that the collection was made, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>reference</td>
<td>string</td>
<td>The description or reference code that was included with the collection</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>A string showing the status of the collection. One of: successful, failed, pending or cashed_out</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the collection was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the collection</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the collection was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the collection</td>
</tr>
<tr>
<td>collection_request</td>
<td>JSON string</td>
<td><em>New in V3.</em> A JSON representation of the collection request that this collection was matched to, if any. Before V3, this was simply the id of the collection request object. In V3. It&rsquo;s an expanded representation of the collection request object.</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-collection">Retrieving a single Collection</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections/230 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleCollectionExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/1"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12132"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KES"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+254722000000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-21T08:55:54Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98989"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-21T08:56:18Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-21T09:07:13Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"collection_request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KES"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+254722000000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-21T08:52:54Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-21T09:04:14Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"collection"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"success_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"send_instructions"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"error_details"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a single collection object, provide the collection id and a collection object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the collection you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-collections">Listing all Collections</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllCollectionsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/collections?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1485758785"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T09:57:44Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T15:19:05Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T16:48:51Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225718814"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:26:32Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment Ian M"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:27:08Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:27:11Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"215569420"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:16:26Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment 10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:17:07Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:17:18Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a list of all collections, make a GET request to the collections endpoint. This will return a list of collection objects.</p>

<h2 id="filtering-collections">Filtering Collections</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections?phonenumber<span class="o">=</span>+80000000001&amp;remote_transaction_id<span class="o">=</span>SS12312 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">phonenumber: </span><span class="s2">"+80000000001"</span><span class="p">,</span>
  <span class="ss">remote_transaction_id: </span><span class="s2">"SS12312"</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+80000000001"</span><span class="p">,</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"SS12312"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+80000000001'</span><span class="p">,</span>
                                     <span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'SS12312'</span><span class="p">)</span>


</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterCollectionsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?remote_transaction_id=SS12312"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256XXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASDCECASF"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3000.000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="w">
       </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>You can search or filter collections on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only (the phonenumber field is treated differently - see below).</p>

<ul>
<li>amount - the transaction amount</li>
<li>currency - the currency code</li>
<li>phonenumber - the phonenumber that the collection request was intended for. Note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request. This is only true for phone number searches with collections, to make claiming of transactions easier. Other</li>
<li>reference - the reference code that the customer used when sending the collection</li>
<li>remote_transaction_id - the transation id or transaction reference of the collection on the mobile network operator&rsquo;s side</li>
<li>collection_request - the ID of the collection request that this collection was matched to</li>
</ul>

<p><strong>Response</strong></p>

<p>Note that the response will be a list of collections, not a single collection.</p>

<h2 id="claiming-an-ummatched-collection">Claiming an ummatched Collection</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections?phonenumber<span class="o">=</span>+80000000001&amp;remote_transaction_id<span class="o">=</span>SS12312&amp;claim<span class="o">=</span>True&amp;amount<span class="o">=</span>200 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">phonenumber: </span><span class="s2">"+80000000001"</span><span class="p">,</span>
  <span class="ss">remote_transaction_id: </span><span class="s2">"SS12312"</span><span class="p">,</span>
  <span class="ss">claim: </span><span class="kp">true</span><span class="p">,</span>
  <span class="ss">amount: </span><span class="mi">200</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+80000000001"</span><span class="p">,</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"SS12312"</span><span class="p">,</span>
  <span class="s2">"claim"</span> <span class="o">=&gt;</span> <span class="s2">"True"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"200"</span><span class="p">,</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+80000000001'</span><span class="p">,</span>
                                     <span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'SS12312'</span><span class="p">,</span>
                                     <span class="n">claim</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                     <span class="n">amount</span><span class="o">=</span><span class="s">'200'</span><span class="p">)</span>


</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClaimUnmatchedCollectionExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?phonenumber=+80000000001&amp;remote_transaction_id=SS12312&amp;amount=200&amp;claim=True"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+800XXXXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASDCECASF"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3000.000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="w">
       </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>By default, when you search for a collection, only collections that have been successfully assigned to your organization are searched.</p>

<p>You can add the &ldquo;claim&rdquo; parameter to instruct Beyonic to also search unmatched collections, and if any of the unmatched collections match your input, they will be assigned to your organization.</p>

<p>Note that when you include the claim parameter, you <strong>must</strong> also include the amount, remote_transaction_id and phonenumber parameters. Failure to do so will result in an error.</p>

<p>Also note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. Partial phone number matches will fail when you try to claim a transaction. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request.</p>

<p>Lastly, if your search parameters match more than one collection, the claim will fail.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>claim</td>
<td>Boolean or String</td>
<td>True</td>
<td>Instruct system to search unmatched transctions and claim them for your organization.</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>Note that the response will be a list of collections, not a single collection.</p>

          <h1 id="sending-money">Sending Money</h1>

<h1 id="introduction">Introduction</h1>

<p>Beyonic uses the term &ldquo;Payments&rdquo; to refer to money (or prepaid airtime) that you send to a mobile subscriber. This differentiates money you send to mobile subscribers (aka Payments) from money you receive from mobile subscribers (aka Collections).</p>

<p>Beyonic provides the <a href="#payments">Payments API</a> to enable you to send a payment to a mobile subscriber, or to view payments that you have previously sent to a mobile subscriber. See the <a href="#payments">Payments</a> documentation below for more information.</p>

<p><strong>Related Events</strong></p>

<p>The &ldquo;payment.status.changed&rdquo; event is triggered whenever something happens to a payment that you have initiated. For example, if it is successfully delivered or if it fails. You can configure a web link to receive notifications whenever this occurs. This will allow you to respond automatically whenever a payment is completed or whenever it fails. See our <a href="#webhooks">Webhooks API</a> documentation for more information.</p>

          <h1 id="payments">Payments</h1>

<p>To send payments (mobile money or prepaid airtime credit) to a mobile subscriber, you create a new payment object using the payments API. You can also use the payments API to retrieve individual payments or list all payments, as shown in the sections below.</p>

<p>The payments api endpoint is:
    <aside class="notice">https://app.beyonic.com/api/payments</aside></p>

<h2 id="the-payment-object">The Payment object</h2>

<blockquote>
<p>Sample Payment Object (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+80000000001"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the payment belongs to. (This is usually your organization ID)</td>
</tr>
<tr>
<td>payment_type</td>
<td>String</td>
<td>The payment type. Either &ldquo;money&rdquo; for mobile money or &ldquo;airtime&rdquo; for airtime</td>
</tr>
<tr>
<td>amount</td>
<td>decimal</td>
<td>The payment amount</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The 3 letter ISO currency code for the payment. <strong>Note:</strong>: BXC is the Beyonic Test Currency code. See the &ldquo;Testing&rdquo; section for more information. Supported currency codes are BXC (Testing), UGX (Uganda), KES (Kenya)</td>
</tr>
<tr>
<td>account</td>
<td>long integer</td>
<td>The ID of the account from which the payment is made</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>The payment description</td>
</tr>
<tr>
<td>phone_nos</td>
<td>list</td>
<td>A list of phone numbers that this payment was sent to</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>The date that the payment is scheduled to be delivered, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td>Any custom metadata that was added to the contact object at creation time</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>The payment state. One of: new, validated, approval_needed, approval_requested, approved, rejected, scheduled, processed, processed_with_errors or cancelled</td>
</tr>
<tr>
<td>last_error</td>
<td>string</td>
<td>A string description of the latest error that occurred, if any</td>
</tr>
<tr>
<td>rejected_reason</td>
<td>string</td>
<td>Describes why the payment was rejected, if it is in the rejected state</td>
</tr>
<tr>
<td>rejected_time</td>
<td>string</td>
<td>The date that the payment was rejected, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>rejected_by</td>
<td>long integer</td>
<td>The ID of the user who rejected the payment</td>
</tr>
<tr>
<td>cancelled_reason</td>
<td>string</td>
<td>Describes why the payment was cancelled, if it is in the cancelled state</td>
</tr>
<tr>
<td>cancelled_time</td>
<td>string</td>
<td>The date that the payment was cancelled, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>cancelled_by long integer</td>
<td>The ID of the user who cancelled the payment</td>
<td></td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the payment was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the payment</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the payment was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the payment</td>
</tr>
</tbody></table>

<h2 id="creating-a-new-payment">Creating a new Payment</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+80000000001 <span class="se">\</span>
-d <span class="nv">first_name</span><span class="o">=</span>Kennedy<span class="se">\</span>
-d <span class="nv">last_name</span><span class="o">=</span>Amani<span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>BXC <span class="se">\</span>
-d <span class="nv">account</span><span class="o">=</span>1 <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>30 <span class="se">\</span>
-d <span class="nv">description</span><span class="o">=</span><span class="s2">"Per diem payment"</span> <span class="se">\</span>
-d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://my.website/payments/callback"</span> <span class="se">\</span>
-d <span class="nv">payment_type</span><span class="o">=</span>money
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+80000000001"</span><span class="p">,</span>
    <span class="ss">first_name: </span><span class="s2">"Kennedy"</span><span class="p">,</span>
    <span class="ss">last_name: </span><span class="s2">"Amani"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"BXC"</span><span class="p">,</span>
    <span class="ss">account: </span><span class="s2">"1"</span><span class="p">,</span>
    <span class="ss">description: </span><span class="s2">"Per diem payment"</span><span class="p">,</span>
    <span class="ss">payment_type: </span><span class="s2">"money"</span><span class="p">,</span>
    <span class="ss">callback_url: </span><span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="p">{</span><span class="s2">"id"</span><span class="p">:</span> <span class="s2">"1234"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Lucy"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+80000000001"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Kennedy"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Kennedy"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"BXC"</span><span class="p">,</span>
  <span class="s2">"account"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Per diem payment"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span> <span class="o">=&gt;</span> <span class="s2">"money"</span><span class="p">,</span>
  <span class="s2">"callback_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"id"</span><span class="o">=&gt;</span><span class="s2">"1234"</span><span class="p">,</span> <span class="s2">"name"</span><span class="o">=&gt;</span><span class="s2">"Lucy"</span><span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+80000000001'</span><span class="p">,</span>
                       <span class="n">first_name</span><span class="o">=</span><span class="s">'Kennedy'</span><span class="p">,</span>
                       <span class="n">last_name</span><span class="o">=</span><span class="s">'Amani'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span>
                       <span class="n">currency</span><span class="o">=</span><span class="s">'BXC'</span><span class="p">,</span>
                       <span class="n">account</span><span class="o">=</span><span class="s">'1'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s">'id'</span><span class="p">:</span> <span class="s">'1234'</span><span class="p">,</span> <span class="s">'name'</span><span class="p">:</span> <span class="s">'Lucy'</span><span class="p">}</span>
                       <span class="p">)</span>
</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreatePayment</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PHONE_NUMBER</span> <span class="o">=</span> <span class="s">"+80000000001"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CURRENCY</span> <span class="o">=</span> <span class="s">"BXC"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DESCRIPTION</span> <span class="o">=</span> <span class="s">"Per Diem"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">AMOUNT</span> <span class="o">=</span> <span class="s">"1200"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CALLBACK_URL</span> <span class="o">=</span> <span class="s">"https://my.website/payments/callback"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">paymentObject</span> <span class="o">=</span> <span class="n">createPaymentObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">paymentObject</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="kt">int</span> <span class="n">paymentID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Payment: "</span> <span class="o">+</span> <span class="n">paymentID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="nf">createPaymentObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">payment</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"phonenumber"</span><span class="o">,</span> <span class="n">PHONE_NUMBER</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"amount"</span><span class="o">,</span> <span class="n">AMOUNT</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"currency"</span><span class="o">,</span> <span class="n">CURRENCY</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="n">DESCRIPTION</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"callback_url"</span><span class="o">,</span> <span class="n">CALLBACK_URL</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">payment</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+80000000001"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To create a new payment, make a POST to the end point above, with the attributes below.</p>

<p><strong>Note</strong>:</p>

<ul>
<li>A contact is created for each new phone number you send payments to. This gives you the benefits of the pre-verification checks that are done prior to payment processing.</li>
<li>If the contact isn&rsquo;t registered for mobile money, then the payment will not be sent.</li>
<li><strong>Important</strong>: One of the pre-verification checks does a name match check to make sure that the contact name is right. This check can cause your payments to fail if the names that you are sending are not the same as the names in the telecom database. If you want to by-pass this check, go into your settings in your account and uncheck the checkbox that says &ldquo;Name match affects payment&rdquo;.</li>
<li><strong>Important</strong>: The account and currency parameters are both optional but you must provide one of them. If you provide both them then the account&rsquo;s currency must match the currency parameter.</li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+80000000001</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>payment_type</td>
<td>No</td>
<td>String</td>
<td>money</td>
<td>Options: money (default), airtime - use &ldquo;airtime&rdquo; to send an airtime payment instead of a mobile money payment</td>
</tr>
<tr>
<td>amount</td>
<td>Yes</td>
<td>String, Integer or Decimal</td>
<td>3000</td>
<td>Do not include thousands separators</td>
</tr>
<tr>
<td>currency</td>
<td>No</td>
<td>String</td>
<td>BXC</td>
<td>3 letter ISO currency code. No currency conversion is done, so the currency must be valid for the selected phonenumber. You must have a funded Beyonic account in this currency. If your account for this currency has zero balance, your payment will fail. If you also provide an account parameter then the account&rsquo;s currency must match the currency parameter. <strong>Note:</strong>: BXC is the Beyonic Test Currency code. See the &ldquo;Testing&rdquo; section for more information. Supported currency codes are BXC (Testing), UGX (Uganda), KES (Kenya)</td>
</tr>
<tr>
<td>account</td>
<td>No</td>
<td>Integer</td>
<td>1</td>
<td>The ID of the account from which you are making the payment. The account must be active and funded. If the account has zero balance, your payment will fail. This parameter is optional if a currency is provided. If you have more than one account with the same currency, and you leave this parameter out, the earliest created account (oldest account) that is still active will be used.</td>
</tr>
<tr>
<td>description</td>
<td>Yes</td>
<td>String</td>
<td>Per diem payment</td>
<td>This description will be sent to the recipient along with the payment, so it should be limited to about 140 characters.</td>
</tr>
<tr>
<td>callback_url</td>
<td>No</td>
<td>String</td>
<td>https://my.website/payments/callback</td>
<td>Callback URLs are used to send notifications of changes in payment status. Not all payments will be completed immediately, especially if it is a payment to a new number that hasn’t been verified, or if your account has approval rules that require other users to approve payments before they are processed. Note that the URL you submit isn’t specific to a specific payment you have created. Once submitted, it will receive notifications for all future payments made via your organization, whether they are made via the API or via the web-interface. Therefore, you are encouraged to use the same URL for all payments. Since URLs are stored at a per-organization level, using different URLs may result in duplicate notifications being sent to the different URLs. See &ldquo;Webhooks&rdquo; below for more info.</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON-formatted string or dictionary</td>
<td>&ldquo;{&lsquo;id&rsquo;:&#39;1234&rsquo;,&#39;name&rsquo;:&#39;Lucy&rsquo;}&rdquo;</td>
<td>Metadata allows you to add custom attributes to your payments. E.g. You can include a unique ID to identify each payment. Attributes must be key-value pairs. Both the keys and values must be strings. You can add up to 10 attributes. This data will be returned when you retrieve a payment.</td>
</tr>
<tr>
<td>first_name</td>
<td>No</td>
<td>String</td>
<td>John</td>
<td>If this payment is to a new contact, you can include their first name. This name will only be used if the phone number is new.</td>
</tr>
<tr>
<td>last_name</td>
<td>No</td>
<td>String</td>
<td>Doe</td>
<td>If this payment is to a new contact, you can include their last name. This name will only be used if the phone number is new.</td>
</tr>
</tbody></table>

<p><strong>Responses</strong></p>

<ul>
<li>If successful, a JSON representation of the new payment object will be returned. The state field will be &ldquo;new&rdquo;</li>
<li>The payment object can be identified using it’s id field, or the metadata that you supplied.</li>
<li>On subsequent notification callbacks to your callback URL, the same payment object (with the same id field) will be returned. Check the state field for the latest payment status.</li>
<li>The state field values can be:

<ul>
<li>new – for new payments</li>
<li>processed – for successfully completed payments</li>
<li>processed_with_errors – for payments that didn’t complete successfully. The last_error field with have more information.</li>
<li>rejected – for payments that were rejected during the approval process. The following fields will have more information: rejected_reason, rejected_by and rejected_time</li>
<li>cancelled – for payments that were cancelled. The following fields will have more information: cancelled_reason, cancelled_by and cancelled_time</li>
</ul></li>
</ul>

<h2 id="retrieving-a-single-payment">Retrieving a single Payment</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments/22744 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">22744</span><span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payment</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">22744</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">22744</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SinglePaymentExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/22744"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22744</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1200.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+80000000001"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="s2">"2016-03-31T08:08:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="mi">134</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="s2">"2016-03-31T08:08:45Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="mi">134</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="s2">"2016-03-31T08:08:01Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a single payment object, provide the payment id and a payment object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>2314</td>
<td>The id of the payment you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-payments">Listing all Payments</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">list</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payments</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllPaymentsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://app.beyonic.com/api/payments?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"+80000000001"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T17:21:39Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T17:21:39Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T00:00:00Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"+80000000001"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-22T01:53:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-22T01:53:36Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-21T00:00:00Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To return a list of all payments, make a GET request to the payments endpoint. This will return a list of payment objects.</p>

<h2 id="filtering-payments">Filtering Payments</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments?amount<span class="o">=</span>500 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">amount: </span><span class="mi">500</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payments</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">500</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterPaymentsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?amount=500"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>You can search or filter payments on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only.</p>

<ul>
<li>amount - the payment amount</li>
<li>currency - the payment currency code</li>
<li>payment_type - the payment type</li>
</ul>

          <h1 id="other-actions">Other Actions</h1>

<p>Below are additional API endpoints supported by Beyonic&rsquo;s API. Clicking on each topic in the table of contents shall reveal the actions that you can perform.</p>

          <h1 id="accounts">Accounts</h1>

<h2 id="introduction">Introduction</h2>

<p>Accounts hold your funds. The accounts api method allows you to list your accounts and view balances for each account. When you sign up for Beyonic, at least one account in your primary currency is created for your organization. You can request additional accounts if needed.</p>

<p>The accounts api endpoint is: </p>

<p><aside class="notice">https://app.beyonic.com/api/accounts</aside></p>

<h2 id="the-account-object">The Account object</h2>

<blockquote>
<p>Sample Account Object (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">200.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KES"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the account belongs to. (This is usually your organization ID)</td>
</tr>
<tr>
<td>balance</td>
<td>float</td>
<td>The current account balance</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The account&rsquo;s currency code. i.e KES, UGX</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>The account&rsquo;s status. One of: active or inactive</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the account was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the account</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the account was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the account</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-account">Retrieving a Single Account</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/accounts/12 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Account</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Account</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">account</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleAccountExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/accounts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/12"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">200.0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KES"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a single account, provide the account id and a account object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>12</td>
<td>The id of the account you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-accounts">Listing all accounts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/accounts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">list</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nx">Beyonic_Account</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Account</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">accounts</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllAccountsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/accounts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON)  - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/accounts?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">200.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KES"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1147</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a list of all accounts, make a GET request to the accounts end point. This will return a list of accounts.</p>

<h2 id="filtering-accounts">Filtering Accounts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/accounts?currency<span class="o">=</span>KES -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">currency: </span><span class="s2">"KES"</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nx">Beyonic_Account</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"KES"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Account</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">currency</span><span class="o">=</span><span class="s">'KES'</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">accounts</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterAccountsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/accounts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?currency=UGX"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>You can search or filter accounts on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only.</p>

<ul>
<li>currrency - the account currency</li>
<li>status - the account status</li>
</ul>

          <h1 id="contacts">Contacts</h1>

<h2 id="introduction">Introduction</h2>

<p>Contacts represent people whom you can send payments to, or receive payments from. The contacts api method allows you to add, retrieve, list and update contacts in your Beyonic account. Contacts are also added automatically whenever you send a payment to a new phone number.</p>

<p>The contacts api endpoint is:
    <aside class="notice">https://app.beyonic.com/api/contacts</aside></p>

<h2 id="the-contact-object">The Contact object</h2>

<blockquote>
<p>Sample Contact Object (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the contact belongs to. (This is usually your organization ID)</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>The contact&rsquo;s first name</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>The contact&rsquo;s last name</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>The contact&rsquo;s email address</td>
</tr>
<tr>
<td>phone_number</td>
<td>string</td>
<td>The contact&rsquo;s phone number, in international format, starting with a +</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The contact&rsquo;s type, as set in the system. One of: employee, beneficiary, vendor, other OR a custom string</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>The contact&rsquo;s status. One of: active or inactive</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td>Any custom metadata that was added to the contact object at creation time</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the contact was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the contact</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the contact was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the contact</td>
</tr>
</tbody></table>

<h2 id="creating-a-new-contact">Creating a new Contact</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">first_name</span><span class="o">=</span><span class="s1">'John'</span> <span class="se">\</span>
-d <span class="nv">last_name</span><span class="o">=</span><span class="s1">'Doe'</span> <span class="se">\</span>
-d <span class="nv">phone_number</span><span class="o">=</span><span class="s1">'+80000000001'</span> <span class="se">\</span>
-d <span class="nv">email</span><span class="o">=</span><span class="s1">'john.doe@beyonic.com'</span> <span class="se">\</span>
-d metadata.my_id<span class="o">=</span><span class="s1">'123ASDAsd123'</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phone_number: </span><span class="s2">"+80000000001"</span><span class="p">,</span>
    <span class="ss">first_name: </span><span class="s2">"John"</span><span class="p">,</span>
    <span class="ss">last_name: </span><span class="s2">"Doe"</span><span class="p">,</span>
    <span class="ss">email: </span><span class="s2">"john.doe@beyonic.com"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="p">{</span><span class="s2">"my_id"</span><span class="p">:</span> <span class="s2">"123ASDAsd123"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phone_number"</span> <span class="o">=&gt;</span> <span class="s2">"+80000000001"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"john.doe@beyonic.com"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"my_id"</span><span class="o">=&gt;</span><span class="s2">"123ASDAsd123"</span><span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="s">'+80000000001'</span><span class="p">,</span>
                       <span class="n">first_name</span><span class="o">=</span><span class="s">'John'</span><span class="p">,</span>
                       <span class="n">last_name</span><span class="o">=</span><span class="s">'Doe'</span><span class="p">,</span>
                       <span class="n">email</span><span class="o">=</span><span class="s">'john.doe@beyonic.com'</span><span class="p">,</span>
                       <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s">'my_id'</span><span class="p">:</span> <span class="s">'123ASDAsd123'</span><span class="p">}</span>
                       <span class="p">)</span>
</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contacts</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateContactExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">FIRST_NAME</span> <span class="o">=</span> <span class="s">"John"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">LAST_NAME</span> <span class="o">=</span> <span class="s">"Doe"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PHONE_NUMBER</span> <span class="o">=</span> <span class="s">"+80000000001"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">EMAIL</span> <span class="o">=</span> <span class="s">"john.doe@beyonic.com"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">contact</span> <span class="o">=</span> <span class="n">createContactObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">contact</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="kt">int</span> <span class="n">beyID</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="n">beyID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Contact: "</span> <span class="o">+</span> <span class="n">beyID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="nf">createContactObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">contact</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"phone_number"</span><span class="o">,</span><span class="n">PHONE_NUMBER</span><span class="o">);</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"first_name"</span><span class="o">,</span><span class="n">FIRST_NAME</span><span class="o">);</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_name"</span><span class="o">,</span><span class="n">LAST_NAME</span><span class="o">);</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"email"</span><span class="o">,</span><span class="n">EMAIL</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">contact</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"my_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123ASDAsd123"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To create a new contact, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phone_number</td>
<td>Yes</td>
<td>String</td>
<td>+80000000001</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>first_name</td>
<td>Yes</td>
<td>String</td>
<td>John</td>
<td>The contact&rsquo;s first name</td>
</tr>
<tr>
<td>last_name</td>
<td>Yes</td>
<td>String</td>
<td>Doe</td>
<td>The contact&rsquo;s last name</td>
</tr>
<tr>
<td>email</td>
<td>No</td>
<td>String</td>
<td>john.doe@beyonic.com</td>
<td>The contact&rsquo;s email address</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON String</td>
<td>&ldquo;{&lsquo;my_id&rsquo;: &#39;123ASDAsd123&rsquo;}&rdquo;</td>
<td>Custom attributes to store with this object. See the Metadata section for more information.</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-contact">Retrieving a single contact</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts/44702 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">44702</span><span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">44702</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">44702</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contact</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleContactExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/44702"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">44702</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:{},</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="s2">"2016-03-30T17:44:30Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="mi">134</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="s2">"2016-03-30T17:45:22Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="mi">134</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a single contact, provide the contact id and a contact object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the contact you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-contacts">Listing all Contacts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contacts</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllContactsExample</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/contacts?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Org"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eliana"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kalema"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+25677XXXXXX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1175</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Org"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trina"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Faith"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+25677XXXXXX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-18T11:52:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a list of all contacts, make a GET request to the contact end point. This will return a list of contacts.</p>

<h2 id="filtering-contacts">Filtering Contacts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts?first_name<span class="o">=</span>luke -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">first_name: </span><span class="s2">"luke"</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"luke"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">first_name</span><span class="o">=</span><span class="s">'luke'</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contact</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterContactsExample</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?first_name=John"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>You can search or filter contacts on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only. (The phone_number field is treated differently - see below).</p>

<ul>
<li>first_name - the contact&rsquo;s first name</li>
<li>last_name - the contact&rsquo;s last name</li>
<li>email - the contact&rsquo;s email</li>
<li>phone_number - the contact&rsquo;s phone number. Note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request.</li>
</ul>

          <h1 id="events">Events</h1>

<h2 id="introduction">Introduction</h2>

<p>Events track certain changes that happen to your Beyonic account. Events are created automatically when certain changes occur, and you can use them to stay informed about the changes. For example, when a new contact is created, we will create a &ldquo;contact.created&rdquo; event.</p>

<p>You can use the events API to retrieve information about recent events. Events are saved for at least 30 days. After that, they may be discarded.</p>

<p>The events api endpoint is:
    <aside class="notice">https://app.beyonic.com/api/events</aside></p>

<p>You can also set up your account to automatically notify you as event occur. See the <a href="#webhooks">Webhooks API</a> for more information about setting up automatic notification for events.</p>

<h2 id="supported-events-types">Supported Events types</h2>

<p>The following events are supported</p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
<th>Object returned in data</th>
</tr>
</thead><tbody>
<tr>
<td>payment.status.changed</td>
<td>Triggered any time a payment changes status.</td>
<td>Payment object</td>
</tr>
<tr>
<td>collection.received</td>
<td>Triggered any time a collection (an incoming payment) is received from a customer</td>
<td>Collection object</td>
</tr>
<tr>
<td>contact.created</td>
<td>Triggered any time a contact is created in your account</td>
<td>Contact object</td>
</tr>
</tbody></table>

<h2 id="the-event-object">The Event object</h2>

<blockquote>
<p>Sample Event Object (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact.created"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the event belongs to. (This is usually your organization ID)</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The event type. See Supported Event Types above</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The details about the event. This is a representation of the object that triggered the event. For example, for the &ldquo;contact.created&rdquo; event, this will repesent a &ldquo;Contact&rdquo; object</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the event was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the event</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the event was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last modified the event</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-account">Retrieving a Single Account</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/events/12 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Event</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">events</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleEventExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/events"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/12"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact.created"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a single event, provide the event id and an event object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>12</td>
<td>The id of the event you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-events">Listing all Events</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/events -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Event</span><span class="p">.</span><span class="nf">list</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nx">Beyonic_Event</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">events</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllEventsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/events"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/events?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact.created"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+80000000001"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
                </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a list of all events, make a GET request to the events end point. This will return a list of events.</p>

<h2 id="filtering-events">Filtering Events</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/events?type<span class="o">=</span>contact.created -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Event</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">type: </span><span class="s2">"contact.created"</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nx">Beyonic_Event</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"contact.created"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s">'contact.created'</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">events</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterEventsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/events"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?type=contact.created"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>You can search or filter events on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only.</p>

<ul>
<li>type - the event type</li>
</ul>

          <h1 id="webhooks">Webhooks</h1>

<h2 id="introduction">Introduction</h2>

<p>Webhooks or callback URLs allow you to define URLs on your server that notifications should be sent to when specific events occur in your Beyonic account.</p>

<p>The webhooks api endpoint is:</p>

<p><aside class="notice">https://app.beyonic.com/api/webhooks</aside></p>

<p><strong>Note:</strong></p>

<ul>
<li>Non-HTTPS URLs will be rejected. For testing with a self signed certificate, see the &ldquo;Testing webhooks&rdquo; section below.</li>
<li>Data will be posted to the URL, and a 200 response is expected.</li>
<li>A non 200 response will result in an error, and Beyonic will retry the request a total of 10 times, with an increasing wait period between each try.</li>
<li>Beyonic implements a 5 second timeout on webhook requests. See <strong>5 second timeout</strong> below for more information.</li>
<li>A 410 (gone) response will lead to deletion of the webhook</li>
<li>The URL you submit isn’t specific to a specific object. Once submitted, it will receive notifications for all future events of the specific type made in your organization, whether they are made via the API or via the web-interface.</li>
<li>Therefore, you are encouraged to use the one URL for each event type. Since URLs are stored at a per-organization level, using different URLs may result in duplicate notifications being sent to the different URLs.</li>
<li>Previously submitted urls can be deleted via the web browser, or the Webhooks API methods described elsewhere in this reference.</li>
</ul>

<p><strong>5 second timeout</strong></p>

<p>Beyonic implements a 5 second timeout. We wait 5 seconds for a response to each request, and if there isn&rsquo;t one, or there is an error, we will retry the request a total of 10 times, with an increasing wait period between each attempt. </p>

<p>Because of this timeout, we recommend that your webhook responds immediately with a 200 response, and then you continue processing the request. For example, you could store the event information, respond and then continue with your tasks. </p>

<p>Depending on the server and language you are using, there are various mechanisms for achieving this, including flushing() the output in PHP or using a message queue and background tasks in other languages. </p>

<h2 id="supported-event-types">Supported Event types</h2>

<p>See the <a href="#events">Events API</a> for a list of supported event types.</p>

<h2 id="managing-webhooks">Managing Webhooks</h2>

<p>You can create and manage webhooks in two ways:</p>

<ul>
<li>By logging into your Beyonic account via the web browser as described below</li>
<li>By using the Webhooks API described below</li>
</ul>

<p><strong>Managing Webhooks from the web browser</strong></p>

<p>To manage webhooks using the web browser:
1. Log into your account.
2. Go &ldquo;Home&rdquo; &gt; &ldquo;Company Settings&rdquo; &gt; &ldquo;Advanced Settings&rdquo; &gt; &ldquo;Notification Endpoints&rdquo;.</p>

<p><strong>Managing Webhooks from the API</strong></p>

<p>You can use the Webhooks API described below to update or delete your callback URLs programatically.</p>

<p><strong>Required permissions</strong></p>

<p>To manage webhooks, either with the API or the web browser, you must have “Manage Users and Organization Settings” permissions for your organization.</p>

<h2 id="the-webhook-object">The Webhook object</h2>

<blockquote>
<p>Sample Webhook Object (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>user</td>
<td>long integer</td>
<td>The ID of the user who created the webhook</td>
</tr>
<tr>
<td>event</td>
<td>string</td>
<td>The webhook event. See the supported events section</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the webhook was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated</td>
<td>string</td>
<td>The date that the webhook was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>target</td>
<td>string</td>
<td>The URL that triggered events will be sent to</td>
</tr>
</tbody></table>

<h2 id="notification-body-format">Notification body format</h2>

<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
            </span><span class="p">},</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2314</span><span class="p">,</span><span class="w">
                </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BXC"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+80000000001"</span><span class="p">],</span><span class="w">
                </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
                </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When an event is triggered, a JSON post will be sent to the URL that subscribed to the webhook. The JSON post body will include the following information:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hook</td>
<td>A JSON representation of a webhook object. See the see webhook section below.</td>
</tr>
<tr>
<td>data</td>
<td>A JSON representation of the object that triggered the event. This is different for each event. See the &lsquo;Supported events&rsquo; section above.</td>
</tr>
</tbody></table>

<h2 id="creating-a-new-webhook">Creating a new webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl http://app.beyonic.com/api/webhooks -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="s2">"payment.status.changed"</span> <span class="se">\</span>
-d <span class="nv">target</span><span class="o">=</span><span class="s2">"https://my.callback.url/"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">event: </span><span class="s2">"payment.status.changed"</span><span class="p">,</span>
    <span class="ss">target: </span><span class="s2">"https://my.callback.url/"</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span> <span class="s2">"payment.status.changed"</span><span class="p">,</span>
  <span class="s2">"target"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.callback.url/"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s">'payment.status.changed'</span><span class="p">,</span>
                              <span class="n">target</span><span class="o">=</span><span class="s">'https://my.callback.url/'</span>
                              <span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">EVENT</span> <span class="o">=</span> <span class="s">"payment.status.changed"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TARGET</span> <span class="o">=</span> <span class="s">"https://my.callback.url/"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">contact</span> <span class="o">=</span> <span class="n">createWebhookObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">contact</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="kt">int</span> <span class="n">beyID</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="n">beyID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Webhook: "</span> <span class="o">+</span> <span class="n">beyID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="nf">createWebhookObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">webhook</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"event"</span><span class="o">,</span><span class="n">EVENT</span><span class="o">);</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"target"</span><span class="o">,</span><span class="n">TARGET</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">webhook</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To create a new webhook, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>Yes</td>
<td>String</td>
<td>&#39;payment.status.changed&rsquo;</td>
<td>Must be a supported event</td>
</tr>
<tr>
<td>target</td>
<td>Yes</td>
<td>String</td>
<td>&#39;https://my.callback.url/&ldquo;&rsquo;</td>
<td>Must be an https URL</td>
</tr>
</tbody></table>

<p><strong>Responses</strong></p>

<ul>
<li>If successful, a JSON representation of the new webhook object will be returned.</li>
</ul>

<h2 id="retrieving-a-single-webhook">Retrieving a single webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/webhooks/23 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hook</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/1"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a single webhook object, provide the webhook id and a webhook object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the webhook you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-webhooks">Listing all webhooks</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/webhooks -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">list</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hooks</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllWebhooksExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/api/webhooks?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:43:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T17:05:38Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/callbacks/payment/saved/1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:43:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T17:05:38Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/callbacks/payment/saved"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://google.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To retrieve a list of all webhooks, make a GET request to the webhooks endpoint. This will return a list of webhooks objects.</p>

<h2 id="updating-a-webhook">Updating a webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>ccurl http://app.beyonic.com/api/webhooks/1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">event</span><span class="o">=</span><span class="s2">"payment.status.changed"</span> <span class="se">\</span>
-d <span class="nv">target</span><span class="o">=</span><span class="s2">"https://my.callback.url/"</span> <span class="se">\</span>
-X PUT
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hook</span><span class="p">.</span><span class="nf">target</span> <span class="o">=</span> <span class="s1">'https://my.callback.url/'</span>
<span class="n">hook</span><span class="p">.</span><span class="nf">save</span><span class="p">()</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hook</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$hook</span><span class="o">-&gt;</span><span class="na">target</span> <span class="o">=</span> <span class="s1">'https://my.callback.url/'</span><span class="p">;</span>
<span class="nv">$hook</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hook</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="s">'https://my.callback.url/'</span>
<span class="n">hook</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UpdateWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">EVENT</span> <span class="o">=</span> <span class="s">"payment.status.changed"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TARGET</span> <span class="o">=</span> <span class="s">"https://my.callback.url/"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/503"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">webhookObject</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="nf">webhookObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">webhook</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"event"</span><span class="o">,</span><span class="n">EVENT</span><span class="o">);</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"target"</span><span class="o">,</span><span class="n">TARGET</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">webhook</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<blockquote>
<p>Sample Response (JSON) - if you use one of the development libraries, this is automatically converted into a native object for you:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To update a webhook, make a PUT request to the specific webhook’s endpoint, identified by its Id.</p>

<h2 id="deleting-a-webhook">Deleting a webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl http://app.beyonic.com/api/webhooks/1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> -X DELETE
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span> <span class="mi">11</span> <span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DeleteWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/502"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>To delete a webhook, make a DELETE request to the specific webhook’s endpoint, identified by its Id.</p>

<h2 id="filtering-webhooks">Filtering webhooks</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/webhooks?user<span class="o">=</span>1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">user: </span><span class="mi">1</span>
<span class="p">)</span>
</code></pre><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hooks</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

</code></pre><pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterWebhooksExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?user=12"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>You can search or filter webhooks on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only.</p>

<ul>
<li>user - the ID of the user who created the webhook. Note that only users within your organization will be matched.</li>
<li>event - the webhook event</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">CURL</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="ruby">RUBY</a>
                <a href="#" data-language-name="python">PYTHON</a>
                <a href="#" data-language-name="java">JAVA</a>
          </div>
      </div>
    </div>
    <!-- Begin intercom code !-->
    <script>
      window.intercomSettings = {
        app_id: "qe3usrh8"
      };
    </script>
    <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/qe3usrh8';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
    <!-- end intercome code !-->
  </body>
</html>
